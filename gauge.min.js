!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var a;"undefined"!=typeof window?a=window:"undefined"!=typeof global?a=global:"undefined"!=typeof self&&(a=self);a.Gauge=n()}}(function(){return function a(f,k,c){function h(b,d){if(!k[b]){if(!f[b]){var e="function"==typeof require&&require;if(!d&&e)return e(b,!0);if(l)return l(b,!0);e=Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",
e;}e=k[b]={exports:{}};f[b][0].call(e.exports,function(e){var a=f[b][1][e];return h(a?a:e)},e,e.exports,a,f,k,c)}return k[b].exports}for(var l="function"==typeof require&&require,d=0;d<c.length;d++)h(c[d]);return h}({1:[function(a,f,k){function c(e,a){if(!(e instanceof HTMLElement))throw Error("Bad target element");if(!(this instanceof c))return new c(e,a);d(this,a);this.el=e;this.el.classList.add("gauge");this.el.innerHTML='<svg class="gauge-colors" version="1.1" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" opacity="0"/></svg><div class="gauge-marks"></div><div class="gauge-values"></div><div class="gauge-arrow"></div>';
this.colorsEl=this.el.querySelector(".gauge-colors");this.valuesEl=this.el.querySelector(".gauge-values");this.arrowEl=this.el.querySelector(".gauge-arrow");this.createColors();this.createValues();this.createMarks();this.update();this.setValue(this.value);var b=this;window.addEventListener("resize",function(){b.update()})}function h(e,a){return.01*e*(a[1]-a[0])+a[0]}function l(e,a,b){e*=Math.PI/180;return[Math.cos(e)*a/2+a/2,Math.sin(e)*b/2+b/2]}k=a("component-emitter");var d=a("xtend"),b=a("mucss/css"),
g=document;a=c.prototype=Object.create(k.prototype);a.angle=[150,390];a.values=function(){for(var a={},b=0;10>b;b++)a[~~(100*b/10)]=b;return a}();a.values[100]=10;a.marks=Object.keys(a.values).map(parseFloat);a.colors={0:"#666",60:"#ffa500",80:"red"};a.value=0;a.setValue=function(a){this.emit("change");this.value=+a;var d=h(this.value,this.angle);b(this.arrowEl,{transform:"rotate("+(d+90)+"deg)"});this.value=a};a.createMarks=function(){for(var a=0;a<this.marks.length;a++);};a.createValues=function(){var a,
b;this.valuesEl.innerHTML="";this.valuesEls={};for(var d in this.values)a=this.values[d],b=g.createElement("span"),b.textContent=a,b.setAttribute("class","gauge-value"),this.valuesEls[d]=b,this.valuesEl.appendChild(b)};a.createColors=function(){var a;this.colorsEl.innerHTML="";this.colorsEls={};for(var b in this.colors)a=g.createElementNS("http://www.w3.org/2000/svg","path"),a.setAttribute("class","gauge-color"),this.colorsEls[b]=a,this.colorsEl.appendChild(a)};a.update=function(){var a=this.el.clientWidth,
d=this.el.clientHeight,h=this.colorsEl.clientWidth||a,c=this.colorsEl.clientHeight||d,g="",f=this.angle[0],k=l(f,h,c),m,p=this.angle[0]>this.angle[1];this.walk(this.colors,function(a,b){var d,e=l(b,h,c);m&&(d="M "+k+" A "+h/2+" "+c/2+" 0 "+(180<Math.abs(b-f)?1:0)+" "+(p?0:1)+" "+e,m.setAttribute("d",d),m.setAttribute("stroke",g));m=this.colorsEls[a];k=e;g=this.colors[a];f=b});a=this.angle[1];m.setAttribute("stroke",g);m.setAttribute("d","M "+k+" A "+h/2+" "+c/2+" 0 "+(180<Math.abs(a-f)?1:0)+" 1 "+
l(a,h,c));var q=this.valuesEl.clientWidth,r=this.valuesEl.clientHeight;this.walk(this.values,function(a,d){var h=l(d,q,r),c=this.valuesEls[a];b(c,{left:h[0]-c.clientWidth/2,top:h[1]-c.clientHeight/2})})};a.walk=function(a,b){var d,c=this;Object.keys(a).map(parseFloat).sort().forEach(function(a){d=h(a,c.angle);b.call(c,a,d)})};f.exports=c},{"component-emitter":2,"mucss/css":3,xtend:6}],2:[function(a,f,k){function c(a){if(a){for(var l in c.prototype)a[l]=c.prototype[l];return a}}f.exports=c;c.prototype.on=
c.prototype.addEventListener=function(a,c){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(c);return this};c.prototype.once=function(a,c){function d(){b.off(a,d);c.apply(this,arguments)}var b=this;this._callbacks=this._callbacks||{};d.fn=c;this.on(a,d);return this};c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(a,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var d=this._callbacks[a];if(!d)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var b,g=0;g<d.length;g++)if(b=d[g],b===c||b.fn===c){d.splice(g,1);break}return this};c.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),d=this._callbacks[a];if(d)for(var d=d.slice(0),b=0,g=d.length;b<g;++b)d[b].apply(this,c);return this};c.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};
c.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],3:[function(a,f,k){function c(a){var b=a[0].toUpperCase()+a.slice(1);return void 0!==h[a]?a:void 0!==h[l+b]?l+b:""}var h=a("./fake-element").style,l=a("./prefix").dom;f.exports=function(a,b){if(a&&b){var g,e;if("string"===typeof b){g=b;if(3>arguments.length)return a.style[c(g)];e=arguments[2]||"";b={};b[g]=e}for(g in b)"number"===typeof b[g]&&/left|right|bottom|top|width|height/i.test(g)&&(b[g]+="px"),e=b[g]||"",a.style[c(g)]=
e}}},{"./fake-element":4,"./prefix":5}],4:[function(a,f,k){f.exports=document.createElement("div")},{}],5:[function(a,f,k){a=getComputedStyle(document.documentElement,"");a=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];dom="WebKit|Moz|MS|O".match(new RegExp("("+a+")","i"))[1];f.exports={dom:dom,lowercase:a,css:"-"+a+"-",js:a[0].toUpperCase()+a.substr(1)}},{}],6:[function(a,f,k){f.exports=function(){for(var a={},h=0;h<arguments.length;h++){var f=arguments[h],
d;for(d in f)f.hasOwnProperty(d)&&(a[d]=f[d])}return a}},{}]},{},[1])(1)});
